<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta name="viewport" content="width=720"> -->
	<title>com_unity</title>
	<!-- bootstrap 3.3 -->
	<link
  	rel="stylesheet"
  	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
  	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
  	crossorigin="anonymous">
  	<!-- proprietary stylesheet-->
	<!-- <link rel="stylesheet" type="text/css" href="css/styles.css"> -->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/styles.css') }}">
	<!-- bootstrap js -->
	<script
  	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
  	defer></script>
  	<!-- jquery -->
	<script
	src="https://code.jquery.com/jquery-3.4.1.js"
	integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
	crossorigin="anonymous"></script>
	<!-- proprietary js script-->
	<!-- <script src="js/scripts.js" defer></script> -->
    <script src="{{ url_for('static',filename='js/scripts.js') }}" defer></script>
    <script  src="{{ url_for('static',filename='js/p5.min.js') }}" defer></script>
    <script  src="{{ url_for('static',filename='js/p5.dom.min.js') }}" defer></script>
</head>
<body>

<!-- Top Navigation Menu -->
<div class="top_nav">
    <div>
        <a class="lineleft" href="/">Com Unity</a>
        <a class="lineright" href="/">About</a>
        <a class="lineright" data-toggle="modal" data-target="#updateModal">Record</a>
    </div>
    <div id="timeline"></div>
</div>


 <!-- Modal -->
  <div class="container">
  <!-- Modal -->
  <div class="modal fade" id="updateModal" role="dialog">
     <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" data-dismiss="modal" type="button">&times;</button>
            <h4 class="modal-title">Record Voice</h4>
          </div>
          <div class="modal-body">
            <form enctype="multipart/form-data" id="recordMessageForm" name="recordMessageForm">
              <div class="row">
                <table class="modal_table">
                  <tr>
                    <td>
                      <div id="rec_start_view">
                        <button class="btn btn-danger" id="btnStart"><span class="glyphicon glyphicon-record" id="record_symbol"></span> Rec</button>
                      </div>
                      <div hidden="" id="rec_stop_view">
                        <button class="btn btn-info" id="btnStop"><span class="glyphicon glyphicon-stop" id="record_symbol"></span> Stop</button>
                      </div>
                    </td>
                    <td>
                      <div class="col-sm-1">
                        <audio controls="" hidden=""></audio> <audio controls="" id='save'></audio>
                      </div>
                    </td>
                    <td>
                      <div class="col-sm-1">
                        <select id="mood_dropdown" name='mood'>
                          <option value="128522">
                            &#128522;
                          </option>
                          <option value="128546">
                            &#128546;
                          </option>
                          <option value="128544">
                            &#128544;
                          </option>
                          <option value="128525">
                            &#128525;
                          </option>
                          <option value="128518">
                            &#128518;
                          </option>
                        </select>
                      </div>
                    </td>
                  </tr>
                </table><br>
                <div align="center">
                  <input name="name" placeholder="Name" type="text"><span style="color:grey">(optional)</span><br>
                  <input name="age" placeholder="Age" type="text"><span style="color:grey">(optional)</span><br>
                  <input name="location" placeholder="Location" type="text"><span style="color:grey">(optional)</span><br>
                </div><br>
              </div>
            </form>
            <div class="modal-footer">
              <button class="btn btn-primary btn-sm" id="submit_audio" type="button">SUBMIT</button> <button class="btn btn-default btn-sm" data-dismiss="modal" id="close_recorder" type="button">CLOSE</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<!-- timeline -->
<div id="timeline"></div>

    <button type="button" id="zoomOut" class="btn btn-primary btn-sm">Zoom Out</button>
    <button type="button" id="prev" class="btn btn-primary btn-sm">Prev</button>
    <button type="button" id="next" class="btn btn-primary btn-sm">Next</button>
    <button type="button" id="zoomIn" class="btn btn-primary btn-sm">Zoom In</button>

<!-- stores user chosen audio -->
<!-- <div class='audio-container'>
   <audio controls autoplay></audio>
</div> -->
<div class='audio-container'>
<article>
  <div class="cont">
    <h6>Michael Curry</h6>
    <time>DEC 30, 2020</time>
  </div>
  <audio id="saved_audio" class="audio" controls="controls">
  </audio>
</article>
</div>

<!-- table -->

<!-- <div class="container" id="audio_log"> -->
   <!-- <div class="col-lg-12"> -->
   <!-- <h2 class="page-heading">Capsule Log</h2> -->
   <!-- <div> -->
     <!-- search bar -->
     <!-- <div class="row pull-right input-group"> -->
     <!-- </div> -->
      <div class="cont">
      <table class="text_message">
        <tbody>
        {% for entry in rows %}
        <tr>
          <td class="mood">&#{{ entry[3] }}</td>
          <td>
            <!-- p class adapted from: https://codepen.io/samuelkraft/pen/Farhl -->
            <p class="from-them">
              {{ entry[1].strftime('%m/%d/%Y, %I:%M %p') }}<br />
              {% if entry[4] %}
              {{ entry[4] }},
              {% else %}
              Anonymous,
              {% endif %}
              age {{ entry[5] }}<br />
              {{ entry[6] }}<br />
            </p>
          </td>
          <td>
            <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Play Audio</button>
          </td>
        </tr>
        </tbody>
        {% endfor %}
      </table>
      </div>

      <!-- table -->
<!--       <table class="table table-hover table-bordered">
         <thead align="Center">
            <tr>
               <th>Date</th>
               <th>Mood</th>
               <th>Name</th>
               <th>Age</th>
               <th>Location</th>
               <th>Audio</th>
            </tr>
         </thead>
         <tbody class="table-searchable">
            <tr> -->
            <!-- </tr> -->
<!--             <tr>
               <td>&#128522</td>
               <td align="center">&#128522</td>
               <td>12/30/2020</td>
               <td>Trump</td>
               <td>90</td>
               <td>NJ</td>
               <td align="center"><button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Play Audio</button></td>
            </tr>
            <tr>
               <td align="center" >&#128544</td>
               <td>12/30/2020</td>
               <td>Michael Curry</td>
               <td>52</td>
               <td>OR</td>
               <td><button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Play</button></td>
            </tr> -->
<!--                <td align="center"><button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Play Audio</button></td>
            </tr>
         </tbody>
      </table>
      <br> -->
    <!-- </div> -->
 <!-- </div> -->
<!-- </div> -->
<!--       </div> --> -->


<div id="dynoTable" class="cont"></div>

<script src="{{ url_for('static',filename='js/timeline.js') }}" defer></script>
</body>
</html>
